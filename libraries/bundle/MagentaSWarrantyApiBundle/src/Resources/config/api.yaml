services:
    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    Magenta\Bundle\SWarrantyApiBundle\:
        resource: '../../*'
#        exclude: '../src/{Entity,Migrations,Tests,Kernel.php}'
    # controllers are imported separately to make sure services can be injected
    # as action arguments even if you don't extend any base controller class
    Magenta\Bundle\SWarrantyApiBundle\Controller\:
        resource: '../../Controller'
        tags: ['controller.service_arguments']

    magenta_swarranty_api.customer.customer_subscriber:
        class: Magenta\Bundle\SWarrantyApiBundle\EventSubscriber\Customer\CustomerSubscriber
        arguments:
            - '@doctrine'
        tags:
            - { name: kernel.event_subscriber }

    magenta_swarranty_api.customer.newsletter_subscription_subscriber:
        class: Magenta\Bundle\SWarrantyApiBundle\EventSubscriber\Customer\NewsletterSubscriptionSubscriber
        arguments:
            - '@doctrine'
        tags:
            - { name: kernel.event_subscriber }

    magenta_swarranty_api.customer.registration_email_subscriber:
        class: Magenta\Bundle\SWarrantyApiBundle\EventSubscriber\Customer\RegistrationEmailSubscriber
        arguments:
            - '@doctrine'
            - '@swiftmailer.mailer'
        tags:
            - { name: kernel.event_subscriber }