<div class="row">
    <div class="col-md-6 offset-md-3 col-lg-4 offset-lg-4">
        <div class="text-center">
            <h3>Customer and Product Registration</h3>
            <section>
                <h5>Customer Details</h5>
                <div *ngIf="!isPreview('customerName')" class="input-group mb-2">
                    <input [(ngModel)]="customer.name" type="text" class="form-control" placeholder="(*) Your Full name"
                           aria-label="Your Full name"
                           (keyup.enter)="updateField('customerName')"
                           (blur)="updateField('customerName')"
                    >
                </div>
                <div *ngIf="isPreview('customerName')" (click)="editPreview('customerName')" class="input-group mb-2 preview-container">
                    <div class="input-group-prepend preview-label">
                        <span class="input-group-text">Full Name </span>
                    </div>
                    <div class="form-control preview-text">
                        <span>{{customer.name}}</span>
                    </div>
                    <div class="input-group-append">
                        <span class="input-group-text"><fa name="edit"></fa></span>
                    </div>
                </div>
                <div *ngIf="!isPreview('customerTelephone')" class="input-group mb-2">
                    <div class="input-group-prepend">
                        <span *ngIf="!isDialingCodeEditing" (click)="editDialingCode()" class="input-group-text">+{{customer.dialingCode}}</span>
                        <input #dialingCode [focus]="focusDialingCodeEM" *ngIf="isDialingCodeEditing"
                               style="width: 45px;" type="number" class="form-control mr-1" value="64"
                               aria-label="Country Dialing Code"
                               (keyup.enter)="updateDialingCode(dialingCode.value)"
                               (blur)="updateDialingCode(dialingCode.value)">
                    </div>
                    <input type="number" [(ngModel)]="customer.telephone" class="form-control" placeholder="(*) Contact Number"
                           aria-label="Contact Number"
                           (keyup.enter)="updateField('customerTelephone')"
                           (blur)="updateField('customerTelephone')"
                    />
                </div>
                <div *ngIf="isPreview('customerTelephone')" (click)="editPreview('customerTelephone')" class="input-group mb-2 preview-container">
                    <div class="input-group-prepend preview-label">
                        <span class="input-group-text">Contact Number </span>
                    </div>
                    <div class="form-control preview-text">
                    <span>+{{customer.dialingCode}} {{ customer.telephone }}</span>
                    </div>
                    <div class="input-group-append">
                        <span class="input-group-text"><fa name="edit"></fa></span>
                    </div>
                </div>
                <div class="input-group mb-1">
                    <input type="text" class="form-control" placeholder="Email Address" aria-label="Email Address">
                </div>
                <div class="input-group mb-2">
                    <input type="text" class="form-control" placeholder="Confirm Email Address"
                           aria-label="Confirm Email Address">
                </div>

                <div class="input-group mb-2">
                    <input type="text" class="form-control" placeholder="Your Address" aria-label="Your Address">
                </div>
                <div class="input-group mb-2">
                    <input type="text" class="form-control" placeholder="Postal Code" aria-label="Postal Code">
                </div>
            </section>
            <h3>Product Purchase Information</h3>
            <section *ngFor="let warranty of warranties; index as i; first as isFirst">
                <div *ngIf="!isFirst" class="remove-product mb-2" (click)="removeWarranty(warranty)">
                    <fa size="lg" name="minus-square"></fa>
                    Remove
                </div>
                <ng-select class="mb-2" (change)="selectBrand($event,warranty)" [items]="warranty.brands"
                           bindLabel="name"
                           placeholder="(*) Product Brand"
                           [(ngModel)]="warranty.selectedBrand">
                </ng-select>
                <ng-select *ngIf="!warranty.isCategoryHidden" (change)="selectCategory($event,warranty)" class="mb-2"
                           [items]="warranty.categories"
                           bindLabel="name"
                           placeholder="(*) Product Category"
                           [(ngModel)]="warranty.selectedCategory">
                </ng-select>
                <ng-select *ngIf="!warranty.isProductHidden" class="mb-2" [items]="warranty.products"
                           bindLabel="name"
                           placeholder="(*) Model Name"
                           [(ngModel)]="warranty.selectedProduct">
                </ng-select>
                <div class="input-group mb-2">
                    <input [(ngModel)]="warranty.purchaseDate" type="text"
                           placeholder="(*) Purchase Date (DD-MM-YYYY)"
                           class="form-control"
                           [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }"
                           bsDatepicker/>
                </div>
                <div class="input-group mb-2">
                    <input [(ngModel)]="warranty.serialNumber" type="text" class="form-control"
                           placeholder="Product Serial Number"
                           aria-label="Postal Code">
                </div>
                <ng-select class="mb-2" [items]="warranty.dealers"
                           bindLabel="name"
                           placeholder="Dealer's Name"
                           [(ngModel)]="warranty.selectedDealer">
                </ng-select>
            </section>
            <div class="input-group mb-2" style="cursor: pointer;" (click)="addWarranty()">
                <fa size="lg" name="plus-square"></fa>
                <span class="add-product-text"> Add another Product</span>
            </div>
            <section>
                <div class="input-group mb-2">
                    <button (click)="submit()" type="button" class="btn btn-primary form-control">REGISTER</button>
                </div>
            </section>
            <section>
                I have read and <a (click)="lgModal.show()">or this</a>
                <input type="checkbox" aria-label="Checkbox for following text input">

                <br/>
                <a (click)="lgModal.show()">or this</a>
            </section>
        </div>
    </div>
</div>

<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1"
     role="dialog" aria-labelledby="dialog-sizes-name1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="dialog-sizes-name1" class="modal-title pull-left">Large modal</h4>
                <button type="button" class="close pull-right" (click)="lgModal.hide()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
        </div>
    </div>
</div>